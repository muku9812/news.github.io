/*!
 * 
 * Presto Player
 * 
 * @author Presto Made, Inc
 * @version 0.1.0
 * @link undefined
 * @license GPL
 * 
 * Copyright (c) 2021 Presto Made, Inc
 * 
 * This software is released under the GPL License
 * https://opensource.org/licenses/GPL
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprestoPlayeranalyticsJsonp=window.wpackioprestoPlayeranalyticsJsonp||[]).push([[1],{33:function(e,t,a){a(34),e.exports=a(49)},36:function(e,t){function a(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=36},49:function(e,t,a){"use strict";a.r(t);var r=a(23),n=a(0),c=a(25),l=a(26),o=a(15),i=a(27),s=a(28),p=a(22),d=a(4),u=a(29),m=a.n(u);function f(e){return{path:e.pathname,hash:e.hash,query:m.a.parse(e.search)}}var h=a(32),b=Object(h.a)(),y=wp.element.createContext({route:f(b.location)}),v=a(10),w=wp.element.useContext,E="";function g(e){var t=e.path,a=e.onRoute,r=e.children,n=w(y).route,c=Object(v.a)("".concat(t))("".concat(n.hash.substr(1)));return c?(a&&(E!==c.path&&a(),E=c.path),React.createElement("div",null,wp.element.cloneElement(r,{route:c}))):null}var R=a(17),O=a.n(R);wp.element.useContext;function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(p.a)(e);if(t){var n=Object(p.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(s.a)(this,a)}}var x=function(e){Object(i.a)(a,e);var t=j(a);function a(e){var r;Object(c.a)(this,a),r=t.call(this,e),Object(d.a)(Object(o.a)(r),"handleRouteChange",(function(e){var t=f(null==e?void 0:e.location);r.setState({route:t})})),r.routes=Object.keys(e.routes).map((function(t){return e.routes[t].path})),r.unlisten=b.listen(r.handleRouteChange);var n=f(b.location);return r.state={route:n,defaultRoute:null!=e&&e.defaultRoute?"#".concat(null==e?void 0:e.defaultRoute):"#/"},r}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.props,t=e.children,a=(e.NotFound,this.state),r=a.route,n=a.defaultRoute;if(!r.hash)return b.push(n),React.createElement("div",null);var c=!1;(this.routes||[]).forEach((function(e){var t=Object(v.a)(r.hash.substr(1))("".concat(r.hash.substr(1)));t&&(c={name:e,data:t})}));var l={route:r,matched:c},o=!c;return React.createElement(y.Provider,{value:l},o?React.createElement("div",null,"Not found"):t)}}]),a}(wp.element.Component),_=function(e){var t=e.width,a=e.height;return React.createElement("svg",{id:"e8f68bdd-4984-4f2e-95b7-7fc8ec281257","data-name":"Layer 1",width:t,height:a,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 918.14 765.54"},React.createElement("defs",null,React.createElement("linearGradient",{id:"27aa7b70-b106-4a00-be67-693c8380e41d",x1:"397.74",y1:"717.25",x2:"397.74",y2:"86.11",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:"0","stop-color":"gray","stop-opacity":"0.25"}),React.createElement("stop",{offset:"0.54","stop-color":"gray","stop-opacity":"0.12"}),React.createElement("stop",{offset:"1","stop-color":"gray","stop-opacity":"0.1"})),React.createElement("linearGradient",{id:"46a816da-c484-41ec-8a6f-fbf14454d910",x1:"288.88",y1:"378.44",x2:"288.88",y2:"209.65",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"32b634d8-28f1-48d9-a868-f602a2cad942",x1:"288.88",y1:"328.29",x2:"288.88",y2:"223.1",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("clipPath",{id:"7a4c6aff-0be0-461b-a111-b3ae1b8fbf73",transform:"translate(-140.93 -67.23)"},React.createElement("rect",{id:"8cc91f6d-19b0-43cc-9c18-2faa83ac34ba","data-name":"<Rectangle>",x:"354.51",y:"291.55",width:"150.6",height:"101.52",fill:"#fff"})),React.createElement("linearGradient",{id:"38f1cb81-8fac-4205-a0ff-a33ac00d354c",x1:"288.88",y1:"594.94",x2:"288.88",y2:"426.14",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"6fc01aaf-135e-403e-a209-43b2a4fe59f1",x1:"288.88",y1:"544.79",x2:"288.88",y2:"439.6",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("clipPath",{id:"79ce363a-d134-40e4-9f82-b96d04a36978",transform:"translate(-140.93 -67.23)"},React.createElement("rect",{id:"5b44e697-61fe-43bd-9a58-5f3e41301748","data-name":"<Rectangle>",x:"354.51",y:"508.05",width:"150.6",height:"101.52",fill:"#fff"})),React.createElement("linearGradient",{id:"54803c44-522d-4b9e-9a34-f1f7b43e8483",x1:"671.57",y1:"760.34",x2:"671.57",y2:"129.2",gradientTransform:"translate(1109.43 -194.1) rotate(90)",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"089a6a47-adaa-499b-aefb-cd6464b62fb8",x1:"670.96",y1:"553.63",x2:"670.96",y2:"387.28",gradientTransform:"translate(1129.51 -168.41) rotate(90)",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"fd8d88e0-7826-450d-9e0b-001d1be709c2",x1:"637.66",y1:"754.12",x2:"637.66",y2:"601.05",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"8d1793c5-b76e-44e2-a52e-569460402331",x1:"778.37",y1:"673.86",x2:"778.37",y2:"569.13",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"}),React.createElement("linearGradient",{id:"4745700d-8097-45ff-9f71-625443fc4ad8",x1:"778.37",y1:"774.41",x2:"778.37",y2:"713.66",xlinkHref:"#27aa7b70-b106-4a00-be67-693c8380e41d"})),React.createElement("title",null,"secure data"),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"162.9",y:"86.11",width:"469.69",height:"631.14",fill:"url(#27aa7b70-b106-4a00-be67-693c8380e41d)"})),React.createElement("rect",{x:"169.02",y:"94.67",width:"455.01",height:"609.12",fill:"#f2f2f2"}),React.createElement("rect",{x:"204.49",y:"120.36",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"204.49",y:"142.37",width:"156.56",height:"4.89",fill:"#6c63ff",opacity:"0.7"}),React.createElement("rect",{x:"384.29",y:"120.36",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"408.75",y:"259.8",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"412.42",y:"273.25",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"419.76",y:"286.7",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"408.75",y:"476.29",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"412.42",y:"489.75",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("rect",{x:"419.76",y:"503.2",width:"156.56",height:"4.89",fill:"#e0e0e0"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"205.71",y:"209.65",width:"166.35",height:"168.79",fill:"url(#46a816da-c484-41ec-8a6f-fbf14454d910)"})),React.createElement("rect",{x:"206.76",y:"213.32",width:"163.72",height:"161.45",fill:"#f5f5f5"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"212.53",y:"223.1",width:"152.7",height:"105.19",fill:"url(#32b634d8-28f1-48d9-a868-f602a2cad942)"})),React.createElement("rect",{id:"689f37f3-cc41-448d-b172-63ec123bc985","data-name":"<Rectangle>",x:"213.58",y:"224.32",width:"150.6",height:"101.52",fill:"#fff"}),React.createElement("g",{"clip-path":"url(#7a4c6aff-0be0-461b-a111-b3ae1b8fbf73)"},React.createElement("polygon",{points:"200.82 322.18 238.74 263.46 254.64 289.15 288.88 253.68 318.24 289.15 343.93 236.56 409.98 341.75 195.93 334.41 200.82 322.18",fill:"#6c63ff",opacity:"0.4"}),React.createElement("circle",{cx:"230.17",cy:"239",r:"11.01",fill:"#6c63ff",opacity:"0.4"})),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"205.71",y:"426.14",width:"166.35",height:"168.79",fill:"url(#38f1cb81-8fac-4205-a0ff-a33ac00d354c)"})),React.createElement("rect",{x:"206.76",y:"429.81",width:"163.72",height:"161.45",fill:"#f5f5f5"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"212.53",y:"439.6",width:"152.7",height:"105.19",fill:"url(#6fc01aaf-135e-403e-a209-43b2a4fe59f1)"})),React.createElement("rect",{id:"b429ac3a-f8a8-4171-bcce-5b6c002c0714","data-name":"<Rectangle>",x:"213.58",y:"440.82",width:"150.6",height:"101.52",fill:"#fff"}),React.createElement("g",{"clip-path":"url(#79ce363a-d134-40e4-9f82-b96d04a36978)"},React.createElement("polygon",{points:"200.82 538.67 238.74 479.96 254.64 505.65 288.88 470.18 318.24 505.65 343.93 453.05 409.98 558.24 195.93 550.9 200.82 538.67",fill:"#bdbdbd",opacity:"0.4"}),React.createElement("circle",{cx:"230.17",cy:"455.5",r:"11.01",fill:"#bdbdbd",opacity:"0.4"})),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"349.09",y:"242.63",width:"631.14",height:"469.69",transform:"translate(-74.16 969.06) rotate(-78.76)",fill:"url(#54803c44-522d-4b9e-9a34-f1f7b43e8483)"})),React.createElement("rect",{x:"359.37",y:"247.33",width:"609.12",height:"455.01",transform:"translate(-72.16 966.22) rotate(-78.76)",fill:"#fff"}),React.createElement("rect",{x:"523.5",y:"197.22",width:"322.91",height:"4.89",transform:"translate(-88.86 -196.94) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"433.36",y:"650.7",width:"322.91",height:"4.89",transform:"translate(-2.18 -170.66) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"428.58",y:"671.14",width:"249.52",height:"4.89",transform:"translate(1.01 -162.18) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"424.6",y:"683.47",width:"92.96",height:"4.89",transform:"translate(1.84 -145.91) rotate(11.24)",fill:"#6c63ff",opacity:"0.7"}),React.createElement("rect",{x:"519.57",y:"209.08",width:"161.45",height:"4.89",transform:"translate(-88.17 -180.2) rotate(11.24)",fill:"#6c63ff",opacity:"0.7"}),React.createElement("rect",{x:"512.84",y:"249.31",width:"291.11",height:"4.89",transform:"translate(-79.21 -190.76) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"509.47",y:"255.44",width:"70.94",height:"4.89",transform:"translate(-80.19 -168.52) rotate(11.24)",fill:"#3ad29f",opacity:"0.7"}),React.createElement("rect",{x:"501.56",y:"307.59",width:"322.91",height:"4.89",transform:"translate(-67.76 -190.54) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"575.87",y:"357.6",width:"166.35",height:"289.88",transform:"translate(-103.27 983.74) rotate(-78.76)",fill:"url(#089a6a47-adaa-499b-aefb-cd6464b62fb8)"})),React.createElement("rect",{x:"516.06",y:"420.61",width:"286.22",height:"162.68",transform:"translate(-30.42 -186.11) rotate(11.24)",fill:"#fff"}),React.createElement("rect",{x:"496.08",y:"335.18",width:"322.91",height:"4.89",transform:"translate(-62.49 -188.94) rotate(11.24)",fill:"#e0e0e0"}),React.createElement("rect",{x:"547.86",y:"424.02",width:"35.47",height:"118.64",transform:"translate(-35.84 -168.22) rotate(11.24)",fill:"#6c63ff"}),React.createElement("rect",{x:"606.43",y:"475.19",width:"35.47",height:"79.5",transform:"translate(-28.56 -179.03) rotate(11.24)",fill:"#3ad29f"}),React.createElement("rect",{x:"665.23",y:"523.93",width:"35.47",height:"42.81",transform:"translate(-21.5 -189.92) rotate(11.24)",fill:"#f55f44"}),React.createElement("rect",{x:"731.91",y:"492.72",width:"35.47",height:"86.84",transform:"translate(-22.02 -203.09) rotate(11.24)",fill:"#fdd835"}),React.createElement("g",{opacity:"0.5"},React.createElement("rect",{x:"128.65",y:"645.09",width:"3.67",height:"20.79",fill:"#47e6b1"}),React.createElement("rect",{x:"269.58",y:"712.31",width:"3.67",height:"20.79",transform:"translate(853.2 384.07) rotate(90)",fill:"#47e6b1"})),React.createElement("path",{d:"M699.44,75.56a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,699.44,75.56Z",transform:"translate(-140.93 -67.23)",fill:"#4d8af0",opacity:"0.5"}),React.createElement("path",{d:"M286.33,179.4a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,286.33,179.4Z",transform:"translate(-140.93 -67.23)",fill:"#fdd835",opacity:"0.5"}),React.createElement("path",{d:"M253.63,484.46a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,253.63,484.46Z",transform:"translate(-140.93 -67.23)",fill:"#fdd835",opacity:"0.5"}),React.createElement("circle",{cx:"337.81",cy:"28.62",r:"7.34",fill:"#f55f44",opacity:"0.5"}),React.createElement("circle",{cx:"7.34",cy:"317.46",r:"7.34",fill:"#f55f44",opacity:"0.5"}),React.createElement("circle",{cx:"863.76",cy:"120.36",r:"7.34",fill:"#f55f44",opacity:"0.5"}),React.createElement("circle",{cx:"822.17",cy:"339.3",r:"7.34",fill:"#4d8af0",opacity:"0.5"}),React.createElement("circle",{cx:"37.68",cy:"145.22",r:"7.34",fill:"#47e6b1",opacity:"0.5"}),React.createElement("circle",{cx:"853.29",cy:"647.34",r:"7.34",fill:"#47e6b1",opacity:"0.5"}),React.createElement("circle",{cx:"910.8",cy:"430.97",r:"7.34",fill:"#47e6b1",opacity:"0.5"}),React.createElement("rect",{x:"544.42",y:"601.05",width:"186.48",height:"153.07",fill:"url(#fd8d88e0-7826-450d-9e0b-001d1be709c2)"}),React.createElement("path",{d:"M723.82,639a54.55,54.55,0,0,1,109.1,0v34.91h15.27V639a69.82,69.82,0,0,0-139.65,0v34.91h15.27Z",transform:"translate(-140.93 -67.23)",fill:"url(#8d1793c5-b76e-44e2-a52e-569460402331)"}),React.createElement("path",{d:"M726,638.25a52.37,52.37,0,1,1,104.74,0v33.52H845.4V638.25a67,67,0,0,0-134.06,0v33.52H726Z",transform:"translate(-140.93 -67.23)",fill:"#f5f5f5"}),React.createElement("rect",{x:"546.32",y:"602.45",width:"182.24",height:"148.73",fill:"#6c63ff"}),React.createElement("rect",{x:"546.32",y:"602.45",width:"182.24",height:"148.73",fill:"#f5f5f5"}),React.createElement("rect",{x:"546.32",y:"631.77",width:"182.24",height:"90.07",fill:"#6c63ff"}),React.createElement("path",{d:"M791.73,727a13.36,13.36,0,1,0-23.08,9.15v28.51a9.72,9.72,0,0,0,19.44,0V736.18A13.3,13.3,0,0,0,791.73,727Z",transform:"translate(-140.93 -67.23)",fill:"url(#4745700d-8097-45ff-9f71-625443fc4ad8)"}),React.createElement("path",{d:"M789.89,729.38a11.52,11.52,0,1,0-19.9,7.89v24.58a8.38,8.38,0,1,0,16.76,0V737.27A11.47,11.47,0,0,0,789.89,729.38Z",transform:"translate(-140.93 -67.23)",opacity:"0.2"}))},D=wp.i18n.__,P=wp.components,k=P.Flex,N=P.FlexItem,S=P.FlexBlock,F=function(){return React.createElement(k,{style:{padding:"30px",background:"#fff"}},React.createElement(N,null,React.createElement(_,{width:"250px"})),React.createElement(S,{style:{marginLeft:"20px"}},React.createElement("h1",null,D("Get detailed video insights.","presto-player")),React.createElement("p",null,D("Upgrade to Pro and get video insights like plays, watch-time, and drop off numbers.","presto-player")),React.createElement("a",{href:"https://prestoplayer.com",target:"_blank",className:"button button-primary"},D("Learn More","presto-player"))))},C=a(6),T=a(3),M=a.n(T);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}wp.i18n.__;var V=wp.apiFetch,A=wp.element.useState,H=wp.compose.createHigherOrderComponent,G=function(){return H((function(e){return function(t){var a=A(!1),r=Object(n.a)(a,2),c=r[0],l=r[1],o=A(1),i=Object(n.a)(o,2),s=i[0],p=i[1],d=A(0),u=Object(n.a)(d,2),m=u[0],f=u[1],h=A(0),b=Object(n.a)(h,2),y=b[0],v=b[1],w=A([]),E=Object(n.a)(w,2),g=E[0],R=E[1],O=A(""),j=Object(n.a)(O,2),x=j[0],_=j[1],D=function(){var e=Object(C.a)(M.a.mark((function e(t){var a,r,n,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,r=t.params,n=void 0===r?{}:r,l(!0),e.prev=2,e.next=5,V({path:wp.url.addQueryArgs(a,B({page:s,per_page:5},n)),parse:!1}).then((function(e){var t=e.headers?parseInt(e.headers.get("X-WP-Total")):0,a=e.headers?parseInt(e.headers.get("X-WP-TotalPages")):0;return f(t),v(a),e.json()}));case 5:c=e.sent,R(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&_(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(e,Object.assign({loading:c,setLoading:l,fetchData:D,page:s,setPage:p,total:m,setTotal:f,totalPages:y,setTotalPages:v,data:g,setData:R,error:x,setError:_},t))}}),"withDataList")},U=wp.i18n,L=U.__,W=U.sprintf,z=function(e){var t=(new Date).getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]+"T00:00:00.000Z"},Z=wp.components,Y=Z.Spinner,Q=Z.Flex,X=Z.FlexItem,q=function(e){var t=e.height,a=void 0===t?100:t;return React.createElement(Q,{style:{height:"".concat(a,"px")},align:"center",justify:"center"},React.createElement(X,null,React.createElement(Y,null)))},J=wp.i18n.__,$=wp.components,K=$.Card,ee=$.CardBody,te=$.Flex,ae=$.FlexBlock,re=$.Button,ne=$.ButtonGroup,ce=wp.element,le=ce.useState,oe=ce.useEffect,ie=function(e){var t=e.page,a=e.setPage,r=e.perPage,c=e.total,l=e.totalPages,o=le(!1),i=Object(n.a)(o,2),s=i[0],p=i[1],d=le(!1),u=Object(n.a)(d,2),m=u[0],f=u[1],h=le(0),b=Object(n.a)(h,2),y=b[0],v=b[1],w=le(0),E=Object(n.a)(w,2),g=E[0],R=E[1];oe((function(){v(Math.min(r*t,c)),R(r*(t-1)+1)}),[r,t,c]);return oe((function(){p(t-1>0),f(l>=t+1)}),[t,l]),React.createElement(K,{size:"large",className:"presto-card pagination"},React.createElement(ee,{className:"presto-flow"},React.createElement(te,null,React.createElement(ae,null,sprintf(J("Showing %1s to %2s of %3s","presto-player"),g,y,c)),React.createElement(ae,null,React.createElement(te,{justify:"flex-end"},React.createElement(ne,null,React.createElement(re,{isSecondary:!0,disabled:!s,onClick:function(){a(Math.max(t-1,0))}},J("Previous","presto-player")),React.createElement(re,{isSecondary:!0,disabled:!m,onClick:function(){a(Math.min(l,t+1))}},J("Next","presto-player"))))))))},se=wp.i18n.__,pe=wp.element,de=(pe.useRef,pe.useEffect,pe.useState,wp.components),ue=de.Card,me=de.CardBody,fe=(de.Flex,de.FlexBlock,de.Button,de.ButtonGroup,function(e){var t=e.columns,a=e.data,r=e.onRowClick,n=e.title;return a.length?React.createElement(ue,{size:"large",className:"presto-card table-card"},React.createElement(me,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},n),React.createElement("table",{role:"table",className:O()("presto-table",{"is-clickable":r})},React.createElement("thead",{role:"rowgroup"},React.createElement("tr",{role:"row"},t&&t.map((function(e){return React.createElement("th",{key:e.key,role:"columnheader"},e.label)})))),React.createElement("tbody",{role:"rowgroup"},a.map((function(e,a){return React.createElement("tr",{role:"row",key:"row-".concat(a),onClick:function(){return r&&r(e)}},t.map((function(t,r){return React.createElement("td",{role:"cell","data-title":t.label,key:"row-".concat(a,"-").concat(r),"aria-label":t.label},t.render?t.render(e):React.createElement("div",null,t.value(e)))})))})))))):React.createElement(ue,{size:"large",className:"presto-card table-card"},React.createElement(me,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},n),React.createElement("div",{style:{opacity:.65}},se("No data available.","presto-player"))))}),he=wp.i18n.__,be=wp.element,ye=(be.useEffect,be.useState,wp.components),ve=ye.Card,we=ye.CardBody,Ee=function(e){var t=e.perPage,a=void 0===t?10:t,r=e.title,n=e.page,c=e.setPage,l=e.loading,o=e.total,i=e.totalPages,s=e.columns,p=e.data,d=e.onSelect;return l?React.createElement(ve,null,React.createElement(q,null)):null!=p&&p.length?React.createElement("div",{className:"datatable"},React.createElement(fe,{data:p,columns:s,perPage:a,onRowClick:d,title:r}),!!o&&React.createElement(ie,{page:n,setPage:c,perPage:a,total:o,totalPages:i})):React.createElement(ve,{size:"large",className:"presto-card"},React.createElement(we,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},r),React.createElement("div",{style:{opacity:.65}},he("No data available.","presto-player"))))};function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Oe=wp.i18n.__,je=wp.element.useEffect,xe=(0,wp.compose.compose)([G()])((function(e){var t=e.loading,a=e.page,r=e.setPage,n=e.total,c=e.totalPages,l=e.data,o=e.error,i=e.fetchData,s=e.startDate,p=e.endDate;je((function(){i({endpoint:"/presto-player/v1/analytics/top-users",params:Re(Re({per_page:5},s?{start:z(s)}:{}),p?{end:z(p)}:{})})}),[a,s,p]);var d=[{key:"name",label:Oe("Name","presto-player"),value:function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.name}},{key:"total_view",label:Oe("Total View","presto-player"),value:function(e){var t,a;return null==e||null===(t=e.stats)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.data}},{key:"avg_view_time",label:Oe("Avg View Time","presto-player"),render:function(e){var t,a;return React.createElement("div",{className:"presto-badge"},null==e||null===(t=e.stats)||void 0===t||null===(a=t[1])||void 0===a?void 0:a.data)}}];return o?{error:o}:React.createElement(Ee,{title:Oe("Top Users","presto-player"),page:a,perPage:5,setPage:r,loading:t,total:n,totalPages:c,columns:d,data:l,onSelect:function(e){var t,a;return a=null==e||null===(t=e.user)||void 0===t?void 0:t.id,void b.push("#/user/".concat(a))}})}));function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Pe=wp.i18n.__,ke=wp.element.useEffect,Ne=(0,wp.compose.compose)([G()])((function(e){var t=e.loading,a=e.page,r=e.setPage,n=e.total,c=e.totalPages,l=e.data,o=e.error,i=e.fetchData,s=e.startDate,p=e.endDate,d=e.userId;ke((function(){i({endpoint:"/presto-player/v1/analytics/top-videos",params:De(De(De({per_page:10},s?{start:z(s)}:{}),p?{end:z(p)}:{}),d?{user_id:d}:{})})}),[a,s,p]);var u=[{key:"name",label:Pe("Name","presto-player"),render:function(e){return React.createElement("h3",{style:{marginBottom:0,wordBreak:"break-all"}},e.video.title?e.video.title:Pe("Untitled","presto-player"))}},{key:"total_view",label:Pe("Total View","presto-player"),value:function(e){return e.stats[0].data}},{key:"avg_view_time",label:Pe("Avg View Time","presto-player"),render:function(e){return React.createElement("div",{className:"presto-badge"},e.stats[1].data)}},{key:"view_more",label:"",render:function(e){return React.createElement("span",{style:{color:"var(--wp-admin-theme-color, #007cba)"}},Pe("View Details","presto-player")," →")}}];return o?{error:o}:React.createElement(Ee,{title:Pe("Top Videos","presto-player"),perPage:10,page:a,setPage:r,loading:t,total:n,totalPages:c,columns:u,data:l,onSelect:function(e){var t,a;a=null==e||null===(t=e.video)||void 0===t?void 0:t.id,b.push("#/video/".concat(a))}})})),Se=wp.apiFetch;Se.use(Se.createNonceMiddleware(prestoPlayer.nonce)),Se.use(Se.createRootURLMiddleware(prestoPlayer.root+prestoPlayer.prestoVersionString));var Fe=Se,Ce=a(11),Te=a.n(Ce);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Be=wp.i18n,Ve=Be.__,Ae=Be.sprintf,He=wp.components,Ge=(He.Card,He.CardBody),Ue=wp.element,Le=Ue.useState,We=Ue.useEffect,ze=(Ue.useRef,function(e){var t=Le(!0),a=Object(n.a)(t,2),r=a[0],c=a[1],l=Le(0),o=Object(n.a)(l,2),i=o[0],s=o[1],p=e.startDate,d=e.endDate,u=Le([{name:"Views",data:[]}]),m=Object(n.a)(u,2),f=m[0],h=m[1],b={options:{chart:{toolbar:{show:!1}},yaxis:{min:0,labels:{formatter:function(e){return e<1?0:Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e).toFixed(0)}}},colors:["#7c3aed"],xaxis:{type:"datetime",min:new Date(p).setHours(0,0,0,0),max:new Date(d).setHours(23,59,59,999)},dataLabels:{enabled:!1},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}}}};We((function(){y()}),[e]);var y=function(){c(!0),Fe({path:"/presto-player/v1/analytics/views?"+jQuery.param(Ie(Ie({},p?{start:z(p)}:{}),d?{end:z(d)}:{})),parse:!1}).then(function(){var e=Object(C.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.headers&&t.headers.get("X-WP-Total")),e.next=3,t.json();case 3:a=e.sent,r=[],a.length&&a.forEach((function(e){r.push({x:e.date_time,y:e.total})})),h([{name:"Views",data:r}]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})).finally((function(){c(!1)}))};return r?React.createElement(Ge,null,React.createElement(q,null)):React.createElement(Ge,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},Ae(Ve("%d Unique Views","presto-player"),i)),React.createElement(Te.a,{options:b.options,series:f,type:"area",height:280}))}),Ze=wp.i18n,Ye=Ze.__,Qe=Ze.sprintf,Xe=wp.components,qe=(Xe.Card,Xe.CardBody),Je=wp.element,$e=Je.useState,Ke=Je.useEffect,et=(Je.useRef,function(e){var t=$e(!0),a=Object(n.a)(t,2),r=a[0],c=a[1],l=$e(0),o=Object(n.a)(l,2),i=o[0],s=o[1],p=e.startDate,d=e.endDate,u=$e([{name:"Views",data:[]}]),m=Object(n.a)(u,2),f=m[0],h=m[1],b={options:{chart:{toolbar:{show:!1}},yaxis:{labels:{formatter:function(e){return Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k min":(Math.sign(e)*Math.abs(e)).toFixed(1)+"min"}}},colors:["#7c3aed"],xaxis:{type:"datetime",min:new Date(p).setHours(0,0,0,0),max:new Date(d).setHours(23,59,59,999)},dataLabels:{enabled:!1},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}}}};Ke((function(){R()}),[e]);var y,v,w,E,g,R=function(){c(!0),Fe({path:"/presto-player/v1/analytics/watch-time?"+jQuery.param({start:z(p),end:z(d)}),parse:!1}).then(function(){var e=Object(C.a)(M.a.mark((function e(t){var a,r,n,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,r=a.data,n=a.average,s(parseFloat(n)),c=[],r.length&&r.forEach((function(e){c.push({x:e.date_time,y:(e.total/60).toFixed(2)})})),h([{name:"Watch Time",data:c}]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})).finally((function(){c(!1)}))};return r?React.createElement(qe,null,React.createElement(q,null)):React.createElement(qe,{className:"presto-flow"},React.createElement("div",{className:"presto-card__title"},Qe(Ye("%s average watch time","presto-player"),(y=i,v=Math.floor(y/60/60),w=Math.floor(y/60)-60*v,E=y%60,g="",v&&(g+=W(L("%d hours","presto-player"),v)+", "),w&&(g+=W(L("%d minutes","presto-player"),w)+" "),(v||w)&&E&&(g+=L("and","presto-player")+" "),g+=W(L("%d seconds","presto-player"),E)))),React.createElement(Te.a,{options:b.options,series:f,type:"area",height:280}))}),tt=wp.i18n.__,at=wp.components,rt=at.Panel,nt=at.TabPanel,ct=function(e){var t=e.startDate,a=e.endDate;return React.createElement(rt,null,React.createElement(nt,{className:"presto-module-tabs",onSelect:function(){},tabs:[{name:"views",title:tt("Views","presto-player")},{name:"watch",title:tt("Watch Time","presto-player")}]},(function(e){switch(e.name){case"views":return React.createElement(ze,{startDate:t,endDate:a});case"watch":return React.createElement(et,{startDate:t,endDate:a});default:return React.createElement(React.Fragment,null,"Not Found")}})))},lt=a(30),ot=a.n(lt),it=(a(44),wp.i18n.__),st=wp.element,pt=st.useRef,dt=st.useEffect,ut=st.useState,mt=function(e){var t=e.startDate,a=e.setStartDate,r=e.endDate,c=e.setEndDate,l=pt(),o=ut(25),i=Object(n.a)(o,2),s=i[0],p=i[1];return dt((function(){new ot.a({element:null==l?void 0:l.current,singleMode:!1,format:"MMMM D YYYY",autoApply:!1,plugins:["ranges"],maxDate:new Date,numberOfMonths:2,buttonText:{apply:it("Apply","presto-player"),cancel:it("Cancel","presto-player")},dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0},setup:function(e){e.setDateRange(t,r),e.on("button:apply",(function(e,t){a(e.dateInstance),c(t.dateInstance),p(l.current.value.length)}))}})}),[l]),React.createElement("div",{className:"component-base-control"},React.createElement("div",{className:"components-base-control__field"},React.createElement("input",{className:"components-text-control__input presto-settings__date-select",ref:l,size:s})))},ft=wp.i18n.__,ht=wp.components,bt=ht.Flex,yt=ht.FlexBlock,vt=ht.FlexItem,wt=(wp.element.useState,function(e){var t=e.startDate,a=e.endDate,r=e.setStartDate,n=e.setEndDate;return React.createElement(React.Fragment,null,React.createElement(bt,null,React.createElement(yt,null,React.createElement("h1",null,ft("Analytics","presto-player"))),React.createElement(vt,null,React.createElement(mt,{startDate:t,setStartDate:r,endDate:a,setEndDate:n}))),React.createElement("div",{className:"presto-flow"},React.createElement("div",{className:"presto-dashboard"},React.createElement("div",{className:"presto-dashboard__row"},React.createElement("div",{className:"presto-dashboard__item is-large"},React.createElement(ct,{startDate:t,endDate:a})),React.createElement("div",{className:"presto-dashboard__item"},React.createElement(xe,{startDate:t,endDate:a}))),React.createElement("div",{className:"presto-dashboard__row"},React.createElement("div",{className:"presto-dashboard__item is-large"},React.createElement(Ne,{startDate:t,endDate:a}))))))}),Et=a(18),gt=wp.components,Rt=gt.Card,Ot=gt.CardBody,jt=function(e){var t=e.loading,a=e.title,r=e.value,n=e.label;return t?React.createElement(Rt,null,React.createElement(Ot,null,React.createElement(q,null))):React.createElement(Rt,{className:"presto-player__stat-card"},React.createElement(Ot,null,React.createElement("div",{className:"presto-subtitle"},a),React.createElement("h1",null,r),React.createElement("div",null,n)))};function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dt,Pt,kt,Nt=wp.apiFetch,St=wp.element.useState,Ft=wp.compose.createHigherOrderComponent,Ct=function(){return Ft((function(e){return function(t){var a=St(!1),r=Object(n.a)(a,2),c=r[0],l=r[1],o=St([]),i=Object(n.a)(o,2),s=i[0],p=i[1],d=St(""),u=Object(n.a)(d,2),m=u[0],f=u[1],h=function(){var e=Object(C.a)(M.a.mark((function e(t){var a,r,n,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,r=t.params,n=void 0===r?{}:r,l(!0),e.prev=2,e.next=5,Nt({path:wp.url.addQueryArgs(a,_t({},n))});case 5:c=e.sent,p(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&f(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(e,Object.assign({loading:c,setLoading:l,fetchData:h,stat:s,setStat:p,error:m,setError:f},t))}}),"withStat")},Tt=wp.i18n.__,Mt=wp.compose.compose,It=wp.element.useEffect,Bt=Mt([Ct()])((function(e){var t=e.userId,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return It((function(){c({endpoint:"/presto-player/v1/analytics/user/".concat(t,"/total-views"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(jt,{loading:l,value:parseInt(null==n?void 0:n.view),title:Tt("Total Views","presto-player")})})),Vt=wp.i18n.__,At=wp.compose.compose,Ht=wp.element.useEffect,Gt=At([Ct()])((function(e){var t=e.userId,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Ht((function(){c({endpoint:"/presto-player/v1/analytics/user/".concat(t,"/average-watchtime"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(jt,{loading:l,value:parseFloat(null==n?void 0:n.view).toFixed(2),title:Vt("Average Watch Time","presto-player"),label:Vt("seconds","presto-player")})})),Ut=wp.i18n.__,Lt=wp.compose.compose,Wt=wp.element.useEffect,zt=Lt([Ct()])((function(e){var t=e.userId,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Wt((function(){c({endpoint:"/presto-player/v1/analytics/user/".concat(t,"/total-watchtime"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(jt,{loading:l,value:parseFloat(null==n?void 0:n.view).toFixed(2),title:Ut("Total Watch Time","presto-player"),label:Ut("seconds","presto-player")})})),Zt=a(2),Yt=wp.i18n.__,Qt=wp.components,Xt=Qt.Flex,qt=Qt.FlexBlock,Jt=Qt.FlexItem,$t=Qt.Spinner,Kt=Qt.Button,ea=wp.element,ta=ea.useEffect,aa=ea.useState,ra=wp.apiFetch,na=function(e){var t,a,r,c,l=e.route,o=e.startDate,i=e.endDate,s=e.setStartDate,p=e.setEndDate,d=aa(!0),u=Object(n.a)(d,2),m=u[0],f=u[1],h=aa({}),y=Object(n.a)(h,2),v=y[0],w=y[1],E=aa(""),g=Object(n.a)(E,2),R=g[0],O=g[1],j=function(){var e=Object(C.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,ra({url:"/wp-json/wp/v2/users/".concat(null==l||null===(t=l.params)||void 0===t?void 0:t.id,"?context=edit")});case 4:a=e.sent,w(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"rest_no_route"===e.t0.code&&O("User Not Found");case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return ta((function(){j()}),[]),R?Object(Zt.b)("div",{className:"presto-flow"},Object(Zt.b)(Xt,null,Object(Zt.b)(qt,null,Object(Zt.b)("h2",null,R)))):Object(Zt.b)("div",{className:"presto-flow"},Object(Zt.b)(Xt,null,Object(Zt.b)(qt,null,Object(Zt.b)(Kt,{isSecondary:!0,onClick:function(){b.push("#/")}},"← ",Yt("Back to Dashboard","presto-player")))),Object(Zt.b)(Xt,{wrap:!0},Object(Zt.b)(qt,null,m?Object(Zt.b)($t,null):Object(Zt.b)("div",{css:Object(Zt.a)(Dt||(Dt=Object(Et.a)(["\n                display: flex;\n                align-items: center;\n\n                .presto__edit-user-button {\n                  opacity: 0;\n                  visibility: hidden;\n                  transition: opacity 0.3s ease;\n                }\n\n                &:hover {\n                  .presto__edit-user-button {\n                    opacity: 1;\n                    visibility: visible;\n                  }\n                }\n              "])))},Object(Zt.b)("div",null,Object(Zt.b)("h1",{className:"presto-dashboard__title"},null==v?void 0:v.name),Object(Zt.b)("p",{css:Object(Zt.a)(Pt||(Pt=Object(Et.a)(["\n                    margin-top: -10px;\n                    opacity: 0.65;\n                  "])))},null==v?void 0:v.email)),!!v.id&&Object(Zt.b)("div",{className:"presto__edit-user-button",css:Object(Zt.a)(kt||(kt=Object(Et.a)(["\n                    margin: 0 20px;\n                  "])))},Object(Zt.b)(Kt,{href:"/wp-admin/user-edit.php?user_id=".concat(null==v?void 0:v.id),isSecondary:!0,isSmall:!0},Yt("View Profile","presto-player")," →")))),Object(Zt.b)(Jt,null,Object(Zt.b)(mt,{startDate:o,setStartDate:s,endDate:i,setEndDate:p}))),Object(Zt.b)("div",{className:"presto-dashboard presto-flow"},Object(Zt.b)("div",{className:"presto-dashboard__row"},Object(Zt.b)("div",{className:"presto-dashboard__item"},Object(Zt.b)(Bt,{userId:null==l||null===(t=l.params)||void 0===t?void 0:t.id,startDate:o,endDate:i})),Object(Zt.b)("div",{className:"presto-dashboard__item"},Object(Zt.b)(Gt,{userId:null==l||null===(a=l.params)||void 0===a?void 0:a.id,startDate:o,endDate:i})),Object(Zt.b)("div",{className:"presto-dashboard__item"},Object(Zt.b)(zt,{userId:null==l||null===(r=l.params)||void 0===r?void 0:r.id,startDate:o,endDate:i}))),Object(Zt.b)("div",{className:"presto-dashboard__row"},Object(Zt.b)("div",{className:"presto-dashboard__item is-large"},Object(Zt.b)(Ne,{startDate:o,endDate:i,userId:null==l||null===(c=l.params)||void 0===c?void 0:c.id})))))},ca=wp.i18n.__,la=wp.compose.compose,oa=wp.element.useEffect,ia=la([Ct()])((function(e){var t=e.video_id,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return oa((function(){c({endpoint:"/presto-player/v1/analytics/video/".concat(t,"/average-watchtime"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(jt,{loading:l,value:parseInt(n),title:ca("Average Watch Time","presto-player"),label:ca("seconds","presto-player")})})),sa=wp.i18n,pa=sa.__,da=(sa.sprintf,wp.components),ua=da.Card,ma=da.CardBody,fa=wp.element,ha=fa.useState,ba=fa.useEffect,ya=(fa.useRef,function(e){var t=e.video_id,a=e.startDate,r=e.endDate,c=ha(!0),l=Object(n.a)(c,2),o=l[0],i=l[1],s=ha([{name:"Views",data:[]}]),p=Object(n.a)(s,2),d=p[0],u=p[1];ba((function(){i(!0),Fe({path:wp.url.addQueryArgs("/presto-player/v1/analytics/video/".concat(t,"/timeline"),{start:z(a),end:z(r)})}).then((function(e){var t=[];e.length&&e.forEach((function(e){t.push({x:e.watch_time,y:e.total})})),u([{name:"Viewers",data:t}])})).catch((function(e){console.error(e)})).finally((function(){i(!1)}))}),[a,r]);var m={options:{chart:{toolbar:{show:!1}},tickAmount:1,yaxis:{labels:{formatter:function(e){return parseInt(e)}}},xaxis:{labels:{formatter:function(e){return t=e,t=1e3*parseInt(t||0),new Date(t).toISOString().substr(11,8);var t}}},colors:["#7c3aed"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}}}};return o?React.createElement(ua,null,React.createElement(ma,null,React.createElement(q,null))):React.createElement(ua,null,React.createElement(ma,null,React.createElement("div",{className:"presto-card__title"},pa("Audience Retention","presto-player")),React.createElement(Te.a,{options:m.options,series:d,type:"area",height:280})))}),va=wp.i18n.__,wa=wp.compose.compose,Ea=wp.element.useEffect,ga=wa([Ct()])((function(e){var t=e.video_id,a=e.startDate,r=e.endDate,n=e.stat,c=e.fetchData,l=e.loading;return Ea((function(){c({endpoint:"/presto-player/v1/analytics/video/".concat(t,"/views"),params:{start:z(a),end:z(r)}})}),[a,r]),React.createElement(jt,{loading:l,value:parseInt(n),title:va("Unique Views","presto-player")})})),Ra=a(31),Oa=wp.element;Oa.useRef,Oa.useEffect;function ja(e){if(e){if(e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/))return"youtube";if(e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/([a-z]*\/)*([‌​0-9]{6,11})[?]?.*/))return"vimeo";if(e.indexOf("https://vz-")>-1&&e.indexOf("b-cdn.net")>-1)return"bunny"}return"self-hosted"}function xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Da=wp.data.useSelect,Pa=function(e){var t,a,r,n=e.src,c=e.preset,l=e.branding,o=e.attributes,i=e.adminPreview,s=e.currentTime,p=e.preload,d=void 0===p?"metadata":p,u=e.overlays,m=o.chapters,f=o.mutedOverlay,h=o.mutedPreview,b=Da((function(e){var t;return null===(t=e("presto-player/player"))||void 0===t?void 0:t.youtube()})),y=Da((function(e){var t;return null===(t=e("presto-player/player"))||void 0===t?void 0:t.playerCSS()}));return React.createElement("div",{className:"wp-block-video presto-block-video",style:_a(_a(_a({"--presto-player-border-radius":"".concat(null==c?void 0:c.border_radius,"px")},null!=c&&c.caption_background?{"--plyr-captions-background":c.caption_background}:{}),null!=l&&l.color?{"--plyr-color-main":l.color}:{}),{},{"--presto-player-email-border-radius":"".concat((null==c||null===(t=c.email_collection)||void 0===t?void 0:t.border_radius)||0,"px"),"--presto-player-logo-width":"".concat((null==l?void 0:l.logo_width)||75,"px")})},React.createElement(Ra.a,{src:n,css:y,currentTime:s,overlays:u,isAdmin:!0,preload:d,preset:c,bunny:{thumbnail:null==o?void 0:o.previewThumbnail,preview:null==o?void 0:o.preview},youtube:{channelId:null==b?void 0:b.channel_id},tracks:!(null==c||!c.captions)&&[{kind:"captions",label:"English",srclang:"en",src:"/path/to/captions.en.vtt",default:!0}],branding:l,chapters:m,blockAttributes:o,poster:o.poster,provider:ja(n)},React.createElement("div",{slot:"player-end"},(null==h?void 0:h.enabled)&&(null==f?void 0:f.enabled)&&React.createElement("div",{className:"presto-player__overlay is-image",style:{position:"absolute",width:"".concat((null==f?void 0:f.width)||100,"%"),left:"".concat(100*((null==f||null===(a=f.focalPoint)||void 0===a?void 0:a.x)||.5),"%"),top:"".concat(100*((null==f||null===(r=f.focalPoint)||void 0===r?void 0:r.y)||.5),"%")}},React.createElement("img",{src:null==f?void 0:f.src,style:{transform:"translateX(-50%) translateY(-50%)"}})),i)))};function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sa=wp.i18n.__,Fa=wp.components,Ca=Fa.Flex,Ta=Fa.FlexBlock,Ma=Fa.FlexItem,Ia=Fa.Spinner,Ba=Fa.Button,Va=Fa.TextControl,Aa=wp.element,Ha=Aa.useEffect,Ga=Aa.useState,Ua=wp.apiFetch,La=function(e){var t,a,r,c=e.route,l=e.startDate,o=e.endDate,i=e.setStartDate,s=e.setEndDate,p=Ga(!0),d=Object(n.a)(p,2),u=d[0],m=d[1],f=Ga({}),h=Object(n.a)(f,2),y=h[0],v=h[1],w=Ga(""),E=Object(n.a)(w,2),g=E[0],R=E[1],O=Ga(null),j=Object(n.a)(O,2),x=j[0],_=j[1],D=Ga(!1),P=Object(n.a)(D,2),k=P[0],N=P[1],S=function(){var e=Object(C.a)(M.a.mark((function e(){var t,a,r,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,Ua({url:"".concat(null===(t=prestoPlayer)||void 0===t?void 0:t.root).concat(null===(a=prestoPlayer)||void 0===a?void 0:a.prestoVersionString,"videos/").concat(null==c||null===(r=c.params)||void 0===r?void 0:r.id)});case 4:n=e.sent,v(n),_(null==n?void 0:n.title),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"rest_no_route"===e.t0.code&&R("Video Not Found");case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(C.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("New Video title  ".concat(x)),m(!0),e.prev=2,t=Na(Na({},y),{title:x}),e.next=6,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"videos/").concat(y.id),{_method:"PUT"}),data:t});case 6:if(a=e.sent){e.next=9;break}throw genericError;case 9:N(!1),v(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),R(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:genericError);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),T=function(){_(null==y?void 0:y.title),N(!1)};return Ha((function(){S()}),[]),g?React.createElement("div",{className:"presto-flow"},React.createElement(Ca,null,React.createElement(Ta,null,React.createElement("h2",null,g)))):React.createElement("div",{className:"presto-flow"},React.createElement(Ca,null,React.createElement(Ta,null,React.createElement(Ba,{isSecondary:!0,onClick:function(){b.push("#/")}},"← ",Sa("Back to Dashboard","presto-player")))),React.createElement(Ca,{wrap:!0},React.createElement(Ta,null,u?React.createElement(Ia,null):k?React.createElement("div",{className:"presto-inline-edit presto-inline-edit--editing"},React.createElement(Va,{className:"presto-inline-edit__input",type:"text",value:x,onChange:function(e){return _(e)}}),React.createElement(Ba,{className:"presto-inline-edit__button",isPrimary:!0,onClick:F}," ","Save"," "),React.createElement(Ba,{className:"presto-inline-edit__button",isSecondary:!0,onClick:T}," ","Cancel"," ")):React.createElement("div",{className:"presto-inline-edit"},React.createElement("h1",{className:"presto-dashboard__title presto-inline-edit__text"},null==y?void 0:y.title),React.createElement("button",{className:"presto-inline-edit__edit",onClick:function(){return N(!0)}},React.createElement("span",{className:"dashicon dashicons dashicons-edit"})))),React.createElement(Ma,null,React.createElement(mt,{startDate:l,setStartDate:i,endDate:o,setEndDate:s}))),React.createElement("div",{className:"presto-dashboard presto-flow"},React.createElement("div",{className:"presto-dashboard__row"},React.createElement("div",{className:"presto-dashboard__item is-large"},React.createElement(ga,{video_id:null==c||null===(t=c.params)||void 0===t?void 0:t.id,startDate:l,endDate:o})),React.createElement("div",{className:"presto-dashboard__item"},!!Object.keys(y||{}).length&&React.createElement(Pa,{src:null==y?void 0:y.src,attributes:{},type:null==y?void 0:y.type,preset:{"play-large":!0,play:!0,progress:!0,"current-time":!0}})),React.createElement("div",{className:"presto-dashboard__item"},React.createElement(ia,{video_id:null==c||null===(a=c.params)||void 0===a?void 0:a.id,startDate:l,endDate:o}))),React.createElement("div",{className:"presto-dashboard__row"},React.createElement("div",{className:"presto-dashboard__item is-large"},React.createElement(ya,{video_id:null==c||null===(r=c.params)||void 0===r?void 0:r.id,startDate:l,endDate:o})))))},Wa={dashboard:{path:"/"},video:{path:"/video/:id"},user:{path:"/user/:id"}},za=wp.element.useState,Za=function(){var e,t=function(){window.scrollTo(0,0)},a=za(new Date(Date.now()-6048e5)),r=Object(n.a)(a,2),c=r[0],l=r[1],o=za(new Date),i=Object(n.a)(o,2),s=i[0],p=i[1];return null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?React.createElement("div",{className:"presto-dashboard__content"},React.createElement(x,{routes:Wa},React.createElement(g,{path:Wa.dashboard.path,onRoute:t},React.createElement(wt,{startDate:c,endDate:s,setStartDate:l,setEndDate:p})),React.createElement(g,{path:Wa.video.path,onRoute:t},React.createElement(La,{startDate:c,endDate:s,setStartDate:l,setEndDate:p})),React.createElement(g,{path:Wa.user.path,onRoute:t},React.createElement(na,{startDate:c,endDate:s,setStartDate:l,setEndDate:p})))):React.createElement("div",{className:"presto-dashboard__content"},React.createElement(F,null))},Ya=wp.element.render;Object(r.c)(),Ya(React.createElement(Za,null),document.getElementById("presto-analytics-page"))}},[[33,2,3]]]);
//# sourceMappingURL=admin-5ec129f4.js.map